<div class="container-fluid">
  <div class="row">
<!--    <div class="col-md-4 col-xs-12" style="margin-top: 14px">-->
<!--      <label></label>-->
<!--    </div>-->
<!--    <div class="col-md-4 col-xs-12" style="margin-top: 14px">-->
<!--      <app-periode-filter></app-periode-filter>-->
<!--    </div>-->
    <div class="col-md-4 col-xs-12" style="margin-top: 14px"></div>
    <div class="col-md-4 col-xs-12" style="margin-top: 14px">
      <label>{{"please select the organisational level to be displayed"|translate}}</label>
      <select class="form-control" [(ngModel)]="choisePlay" >
        <option></option>
        <option value="region">{{"Region"|translate}}</option>
        <option value="district">{{"District"|translate}}</option>
        <option value="facility">{{"Facility"|translate}}</option>
      </select>
    </div>
  </div>
</div>


<hr/>
<div class="container-fluid mt-5" *ngIf="choisePlay == 'region'" id="figure1">
  <div class="card card-chart" style="background-color: #f4f3ef" >
    <div class="card-header" id="cardHeader">
      <div class="row">
        <div class="col-md-4"><h1 class="card-title">{{"Region score card"|translate}} </h1></div>
        <label class="justify-content-center mt-1">{{"Please select region"|translate}}:</label>
        <ng-select
          [items]="regions"
          bindLabel="name"
          bindValue="id"
          class=" col-md-4"
          [(ngModel)]="selectedRegion">
        </ng-select>
        <div class=" col-md-1 bg-transparent" *ngIf="loadingRegionData">
            <span>
              <img src="assets/35.gif" alt="load icon" width="20px" height="20px" class="mr-2">
            </span>
        </div>
        <div class="col-md-1 text-left">
          <button class="btn btn-danger" (click)="getRegionData()">{{"view"|translate}}</button>
        </div>
<!--        <div class="col-md-2 ml-sm-3">-->
<!--          <button-->
<!--            tourAnchor="view.Xlsx"-->
<!--            (mouseenter)="printHovered = true"-->
<!--            (mouseleave)="printHovered = false"-->
<!--            class="btn btn-outline-secondary btn-sm pull-right cursor"-->
<!--            (click)="exportAs('xlsx')"-->
<!--            style="height: 35px;margin-left: 3px"-->
<!--            title="{{ 'Print' | translate }}">-->
<!--            <i class="fa fa-download"></i>-->
<!--            <span *ngIf="printHovered" [translate]="'Xlsx'">xlsx</span>-->
<!--          </button>-->
<!--        </div>-->
      </div>
    </div>
    <div class="row mt-3" >
      <div class="col-md-12">
        <div class="card" id="regionCard">
          <div class="card-header">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
                <div class="card-title"><h2>{{"Evaluation table of districts in the"|translate}}{{" "}}{{selectedRegionName}}{{" "}}{{"region over the last 12 months"|translate}}</h2></div>
              </div>
              <div class="col-md-2 ml-sm-3 float-left">
                <button class="btn btn-primary btn-sm pull-right" (click)="ImgRegionDistrict()" style="height: 35px;margin-left: 3px">
                  <i class="fa fa-download"></i> Download
                </button>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                  <th *ngFor="let header of orgUnitHeaders">{{header}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let row of orgUnitDataValues; let i = index">
<!--                  <td class="{{i == 0 ? '' : ( column == '' ? 'bg-gray': (column >= 70 ? 'bg-green': (column <= 39 ? 'bg-red': 'bg-yellow')))}} align-middle" *ngFor="let column of row; let i = index">{{column}}</td>-->
                  <td class="{{orgUnitDataColors[i][j]}} align-middle" *ngFor="let column of row; let j = index">{{column}}</td>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card" id="tableRegionPeriod">
          <div class="card-header" style="background-color: transparent">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
                <div class="card-title"><h2>{{"Evaluation table of region"|translate}}{{" "}}{{selectedRegionName}}{{" "}}{{"over the last 12 months"|translate}}</h2></div>
              </div>
              <div class="col-md-2 ml-sm-3 float-left">
                  <button
                    class="btn btn-primary btn-sm pull-right" (click)="imgRegPer()" style="height: 35px;margin-left: 3px">
                    <i class="fa fa-download"></i> download
                  </button>
                </div>
            </div>
          </div>
          <div class="card-body ">
            <div class="row">
              <table class="table table-bordered table-responsive" >
                <thead>
                <tr>
                  <th *ngFor="let headerP of periodHeaders">{{headerP}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let rowP of periodDataValues; let i = index">
<!--                  <td class="{{i == 0 ? '' : ( columnP == '' ? 'bg-gray': (columnP >= 70 ? 'bg-green': (columnP <= 39 ? 'bg-red': 'bg-yellow')))}}" *ngFor="let columnP of rowP; let i = index">{{columnP}}</td>-->
                  <td class="{{periodDataColors[i][j]}} align-middle" *ngFor="let columnP of rowP; let j = index">{{columnP}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<hr/>


<div class="container-fluid mt-3" *ngIf="choisePlay == 'district'">
  <div class="card card-chart" style="background-color: #f4f3ef" id="DistrictCard">
    <div class="card-header" id="cardDistrict">
      <div class="row">
        <div class="col-md-4"><h1 class="card-title">{{" District score card"|translate}} </h1></div>
        <ng-select
          [items]="districts"
          bindLabel="name"
          bindValue="id"
          class=" col-md-4"
          [(ngModel)]="selectedDistrict">
        </ng-select>
        <div class=" col-md-1 bg-transparent" *ngIf="loadingRegionData">
            <span>
              <img src="assets/35.gif" alt="load icon" width="20px" height="20px" class="mr-2">
            </span>
        </div>
        <div class="col-md-1 text-left">
          <button class="btn btn-danger" (click)="getDistrictData()">{{"view"|translate}}</button>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card" id="tableDistrictFacility">
          <div class="card-header " style="background-color: transparent">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
                <div class="card-title"><h2>{{"Evaluation table of facility in the"|translate}}{{" "}}{{selectedDistrictName}}{{" "}}{{"district over the last 12 months"|translate}}</h2></div>
              </div>
              <div class="col-md-2 ml-sm-3 float-left">
                <button
                  class="btn btn-primary btn-sm pull-right" (click)="imgDistrictFacility()" style="height: 35px;margin-left: 3px">
                  <i class="fa fa-download"></i> download
                </button>
              </div>
            </div>
          </div>
          <div class="card-body ">
            <div class="row">
              <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                  <th *ngFor="let headerD of orgUnitHeaders">{{headerD}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let rowDf of orgUnitDataValues; let i = index">
                  <td class="{{orgUnitDataColors[i][j]}} align-middle" *ngFor="let columnDf of rowDf; let j = index">{{columnDf}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card" id="tableDistrictPeriod">
          <div class="card-header" style="background-color: transparent">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
              <div class="card-title"><h2>{{"Evaluation table of district"|translate}}{{" "}}{{selectedDistrictName}}{{" "}}{{"over the last 12 months"|translate}}</h2></div>
            </div>
              <div class="col-md-2 ml-sm-3 float-left">
                <button
                  class="btn btn-primary btn-sm pull-right" (click)="imgDistPer()" style="height: 35px;margin-left: 3px">
                  <i class="fa fa-image"></i> download
                </button>
              </div>
            </div>

          </div>
          <div class="card-body ">
            <div class="row">
              <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                  <th  *ngFor="let headerDP of periodHeaders">{{headerDP}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let rowDp of periodDataValues; let i = index">
                  <td class="{{periodDataColors[i][j]}} align-middle" *ngFor="let columnDp of rowDp; let j = index">{{columnDp}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<hr/>


<div class="container-fluid mt-3" *ngIf="choisePlay == 'facility'">
  <div class="card card-chart" style="background-color: #f4f3ef">
    <div class="card-header" id="cardFacility">
      <div class="row">
        <div class="col-md-4"><h1 class="card-title">{{" Facility score card"|translate}} </h1></div>
        <ng-select
          [items]="facilities"
          bindLabel="name"
          bindValue="id"
          class=" col-md-4"
          [(ngModel)]="selectedFacility">
        </ng-select>
        <div class=" col-md-1 bg-transparent" *ngIf="loadingRegionData">
            <span>
              <img src="assets/35.gif" alt="load icon" width="20px" height="20px" class="mr-2">
            </span>
        </div>
        <div class="col-md-1 text-left">
          <button class="btn btn-danger" (click)="getFacilityData()">{{"view"|translate}}</button>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card" id="tableFacilityChw">
          <div class="card-header" style="background-color: transparent">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
                <div class="card-title"><h2>{{"Evaluation table of community in the"|translate}}{{" "}}{{selectedFacilityName}}{{" "}}{{"facility over the last 12 months"|translate}}</h2></div>
              </div>
              <div class="col-md-2 ml-sm-3 float-left">
                <button
                  class="btn btn-primary btn-sm pull-right" (click)="imgFacilityChw()" style="height: 35px;margin-left: 3px">
                  <i class="fa fa-download"></i> Download
                </button>
              </div>
            </div>
          </div>
          <div class="card-body ">
            <div class="row">
              <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                  <th *ngFor="let headerF of orgUnitHeaders">{{headerF}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let rowFD of orgUnitDataValues; let i = index">
                  <td class="{{orgUnitDataColors[i][j]}} align-middle" *ngFor="let columnFp of rowFD; let j = index">{{columnFp}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="card" id="tableFacilityPeriod">
          <div class="card-header" style="background-color: transparent">
            <div class="row">
              <div class="col-md-8 justify-content-center text-center">
                <div class="card-title"><h2>{{"Evaluation table of facility"|translate}}{{" "}}{{selectedFacilityName}}{{" "}}{{"over the last 12 months"|translate}}</h2></div>
              </div>
              <div class="col-md-2 ml-sm-3 float-left">
                <button
                  class="btn btn-primary btn-sm pull-right" (click)="imgFacilityPer()" style="height: 35px;margin-left: 3px">
                  <i class="fa fa-download"></i> Download
                </button>
              </div>
            </div>
          </div>
          <div class="card-body ">
            <div class="row">
              <table class="table table-bordered table-responsive">
                <thead>
                <tr>
                  <th *ngFor="let headerFP of periodHeaders">{{headerFP}}</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let rowFP of periodDataValues; let i = index">
                  <td class="{{periodDataColors[i][j]}} align-middle" *ngFor="let columnFpe of rowFP; let j = index">{{columnFpe}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
